clear;clc;figure = figure;frame = 120;time = 0;ball_sceond_term = 0.5;ball_term = frame * ball_sceond_term;x_max = 100y_max = 200axes = axes('color', 'white', 'XLim',[0 x_max], 'YLim',[0 y_max], #Lim은 각 축의 범위'PlotBoxAspectRatio', [0.6 1 1], 'Position',[0 0.04 1 0.95]);     #PlotBoxAspectRatio 은 각 축의 상대적 길이x = 20;y = 50;size = 30;#ball = line(x,y,'marker','.','markersize',size)#new_ball = line(x,y,'marker','.','markersize',size, 'color' , 'red');#set(ball,'XData', x, 'YData', y);global st_x = 50.0;global st_y = 20.0;function rx = replaceX(x)  rx=x+50.0;endfunction ry = replaceY(y)  ry=y+20.0;endfunction ballInfo = ballStruct(y, x, w, oy, ox, d, ball)   ballInfo = struct('y', y, 'x', x, 'w', w, 'oy', oy, 'ox', ox, 'd', d, 'ball', ball);endfunctionfunction [newY, newX] = nextPosition(ballInfo)   newX = ballInfo.x + ballInfo.d + ballInfo.ox;   newY = ballInfo.w * newX + ballInfo.oy;endfunctionfunction result = collision(newY, newX, ballInfo)    result = false    if newX < -50 || newX > 50        ballInfo.d = -ballInfo.d;        ballInfo.w = -ballInfo.w        ballInfo.ox = ballInfo.newX;        ballInfo.oy = ballInfo.newY;        result = true;        return    end    if newY < 0 || newY > 200        ballInfo.w = -ballInfo.w        ballInfo.ox = ballInfo.newX;        ballInfo.oy = ballInfo.newY;        result = true;        return    endendfunctionball = line(replaceX(0), replaceY(0),'marker','.','markersize',size);while true ## decicde w value      w = 1;      d = 0.1;      ballInfo = ballStruct(0, 0, w, st_y, st_x, d, ball);  breakendwhile true    while true        [newY, newX] = nextPosition(ballInfo);        ballInfo.y = newY;        ballInfo.x = newX;        if(~collision(newY, newX, ballInfo))            break        end    end    set(ballInfo.ball, 'XData', replaceX(ballInfo.x), 'YData', replaceY(ballInfo.y));    pause(1/frame);end